\documentclass[border=5pt]{standalone}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}
\usepackage{siunitx}
\usepackage{tikz}
\usetikzlibrary{calc}

\definecolor{batch4Color}{RGB}{31,119,180}    % Blue for batch 4
\definecolor{batch8Color}{RGB}{255,127,14}    % Orange for batch 8
\definecolor{batch16Color}{RGB}{44,160,44}    % Green for batch 16
\definecolor{batch32Color}{RGB}{214,39,40}    % Red for batch 32

\begin{document}
\begin{tikzpicture}[remember picture]

    % Графік 1: Loss
    \begin{axis}[
        name=plot1,
        width=8cm,
        height=6cm,
        xlabel={Епоха},
        ylabel={Loss},
        ylabel style={yshift=-0.15cm},
        xmin=0.5, xmax=10.5,
        ymin=0, ymax=2.5,
        xtick={1,2,3,4,5,6,7,8,9,10},
        grid=both,
        grid style={line width=.1pt, draw=gray!10},
        major grid style={line width=.2pt,draw=gray!30},
        title={Loss порівняння розмірів батчів},
        axis background/.style={fill=gray!3},
        title style={yshift=3mm, font=\small\bfseries},
        label style={font=\small},
        tick label style={font=\footnotesize},
        line width=1pt,
        enlarge x limits=0.05,
        enlarge y limits=0.05,
        every axis plot/.append style={no markers},
        legend to name=commonlegend,
        legend columns=4,
        legend style={draw=none, fill=none, font=\footnotesize}
    ]
        % Batch 4 Train
        \addplot[color=batch4Color, thick] coordinates {
            (1,1.9555) (2,1.0801) (3,0.9472) (4,0.8428) (5,0.7919)
            (6,0.7468) (7,0.7145) (8,0.6882) (9,0.6804) (10,0.6596)
        };

        % Batch 4 Validation
        \addplot[color=batch4Color, thick, dashed] coordinates {
            (1,1.2283) (2,1.1549) (3,0.9797) (4,0.9570) (5,0.9339)
            (6,0.9435) (7,1.0211) (8,0.9158) (9,0.9189) (10,0.9417)
        };

        % Batch 8 Train
        \addplot[color=batch8Color, thick] coordinates {
            (1,2.1416) (2,1.1389) (3,0.9071) (4,0.7972) (5,0.7172)
            (6,0.6654) (7,0.6305) (8,0.5940) (9,0.5748) (10,0.5595)
        };

        % Batch 8 Validation
        \addplot[color=batch8Color, thick, dashed] coordinates {
            (1,1.3471) (2,1.0562) (3,0.9631) (4,0.9265) (5,0.8874)
            (6,0.8723) (7,0.9010) (8,0.9091) (9,0.8974) (10,0.9248)
        };

        % Batch 16 Train
        \addplot[color=batch16Color, thick] coordinates {
            (1,2.2664) (2,1.1570) (3,0.8794) (4,0.7481) (5,0.6601)
            (6,0.5921) (7,0.5542) (8,0.5059) (9,0.4792) (10,0.4587)
        };

        % Batch 16 Validation
        \addplot[color=batch16Color, thick, dashed] coordinates {
            (1,1.4373) (2,1.0852) (3,0.8774) (4,0.8347) (5,0.8056)
            (6,0.8280) (7,0.7931) (8,0.8040) (9,0.9611) (10,0.7977)
        };

        % Batch 32 Train
        \addplot[color=batch32Color, thick] coordinates {
            (1,2.4464) (2,0.9416) (3,0.6625) (4,0.5374) (5,0.4611)
            (6,0.3922) (7,0.3444) (8,0.2989) (9,0.2611) (10,0.2300)
        };

        % Batch 32 Validation
        \addplot[color=batch32Color, thick, dashed] coordinates {
            (1,1.2616) (2,0.8180) (3,0.6658) (4,0.6289) (5,0.6072)
            (6,0.5974) (7,0.6024) (8,0.5983) (9,0.6109) (10,0.6274)
        };

        \legend{4 Tr, 4 Val, 8 Tr, 8 Val, 16 Tr, 16 Val, 32 Tr, 32 Val}
    \end{axis}

    % Графік 2: CER
    \begin{axis}[
        name=plot2,
        at={($(plot1.east)+(1.5cm,0)$)},
        anchor=west,
        width=8cm,
        height=6cm,
        xlabel={Епоха},
        ylabel={CER},
        ylabel style={yshift=-0.15cm},
        xmin=0.5, xmax=10.5,
        ymin=0, ymax=1.2,
        xtick={1,2,3,4,5,6,7,8,9,10},
        grid=both,
        grid style={line width=.1pt, draw=gray!10},
        major grid style={line width=.2pt,draw=gray!30},
        title={CER порівняння розмірів батчів},
        axis background/.style={fill=gray!3},
        title style={yshift=3mm, font=\small\bfseries},
        label style={font=\small},
        tick label style={font=\footnotesize},
        line width=1pt,
        enlarge x limits=0.05,
        enlarge y limits=0.05,
        every axis plot/.append style={no markers}
    ]
        % Batch 4 Train
        \addplot[color=batch4Color, thick] coordinates {
            (1,0.6089) (2,0.3665) (3,0.2720) (4,0.2384) (5,0.3136)
            (6,0.2464) (7,0.2048) (8,0.1942) (9,0.2211) (10,0.2291)
        };

        % Batch 4 Validation
        \addplot[color=batch4Color, thick, dashed] coordinates {
            (1,0.3690) (2,0.3370) (3,0.2677) (4,0.2792) (5,0.3961)
            (6,0.2509) (7,0.2629) (8,0.2388) (9,0.2349) (10,0.2321)
        };

        % Batch 8 Train
        \addplot[color=batch8Color, thick] coordinates {
            (1,0.6499) (2,0.3891) (3,0.2595) (4,0.2262) (5,0.2047)
            (6,0.1921) (7,0.1820) (8,0.1957) (9,0.2229) (10,0.1638)
        };

        % Batch 8 Validation
        \addplot[color=batch8Color, thick, dashed] coordinates {
            (1,0.4040) (2,0.3019) (3,0.2678) (4,0.2510) (5,0.2428)
            (6,0.2297) (7,0.2366) (8,0.2375) (9,0.2276) (10,0.2313)
        };

        % Batch 16 Train
        \addplot[color=batch16Color, thick] coordinates {
            (1,0.7224) (2,0.4154) (3,0.4177) (4,0.2610) (5,0.4310)
            (6,0.6099) (7,0.5581) (8,0.4594) (9,0.2474) (10,0.2471)
        };

        % Batch 16 Validation
        \addplot[color=batch16Color, thick, dashed] coordinates {
            (1,0.4640) (2,0.3403) (3,0.4359) (4,0.3236) (5,0.6472)
            (6,0.5615) (7,1.0020) (8,0.2649) (9,0.2575) (10,0.2113)
        };

        % Batch 32 Train
        \addplot[color=batch32Color, thick] coordinates {
            (1,0.7453) (2,0.3127) (3,0.2173) (4,0.1739) (5,0.1521)
            (6,0.1358) (7,0.1301) (8,0.1355) (9,0.1039) (10,0.0954)
        };

        % Batch 32 Validation
        \addplot[color=batch32Color, thick, dashed] coordinates {
            (1,0.4074) (2,0.2674) (3,0.2070) (4,0.1919) (5,0.1822)
            (6,0.2261) (7,0.1758) (8,0.1678) (9,0.1695) (10,0.1683)
        };
    \end{axis}

    % Графік 3: WER
    \begin{axis}[
        name=plot3,
        at={($(plot2.east)+(1.5cm,0)$)},
        anchor=west,
        width=8cm,
        height=6cm,
        xlabel={Епоха},
        ylabel={WER},
        ylabel style={yshift=-0.15cm},
        xmin=0.5, xmax=10.5,
        ymin=0.3, ymax=1.1,
        xtick={1,2,3,4,5,6,7,8,9,10},
        grid=both,
        grid style={line width=.1pt, draw=gray!10},
        major grid style={line width=.2pt,draw=gray!30},
        title={WER порівняння розмірів батчів},
        axis background/.style={fill=gray!3},
        title style={yshift=3mm, font=\small\bfseries},
        label style={font=\small},
        tick label style={font=\footnotesize},
        line width=1pt,
        enlarge x limits=0.05,
        enlarge y limits=0.05,
        every axis plot/.append style={no markers}
    ]
        % Batch 4 Train
        \addplot[color=batch4Color, thick] coordinates {
            (1,0.7662) (2,0.6480) (3,0.5394) (4,0.4881) (5,0.6345)
            (6,0.5487) (7,0.4451) (8,0.4285) (9,0.4864) (10,0.5170)
        };

        % Batch 4 Validation
        \addplot[color=batch4Color, thick, dashed] coordinates {
            (1,0.6293) (2,0.6009) (3,0.5356) (4,0.5654) (5,0.8769)
            (6,0.5245) (7,0.5355) (8,0.5043) (9,0.4963) (10,0.4936)
        };

        % Batch 8 Train
        \addplot[color=batch8Color, thick] coordinates {
            (1,0.7887) (2,0.6993) (3,0.5126) (4,0.4696) (5,0.4422)
            (6,0.4237) (7,0.4086) (8,0.4498) (9,0.4676) (10,0.3820)
        };

        % Batch 8 Validation
        \addplot[color=batch8Color, thick, dashed] coordinates {
            (1,0.6620) (2,0.5724) (3,0.5353) (4,0.5167) (5,0.5007)
            (6,0.4875) (7,0.4927) (8,0.5029) (9,0.4842) (10,0.4907)
        };

        % Batch 16 Train
        \addplot[color=batch16Color, thick] coordinates {
            (1,0.8149) (2,0.6925) (3,0.7489) (4,0.5381) (5,0.6889)
            (6,0.8525) (7,0.9120) (8,0.7530) (9,0.5269) (10,0.4836)
        };

        % Batch 16 Validation
        \addplot[color=batch16Color, thick, dashed] coordinates {
            (1,0.6765) (2,0.6438) (3,0.9539) (4,0.6618) (5,0.9832)
            (6,0.9579) (7,0.9651) (8,0.5542) (9,0.5222) (10,0.4659)
        };

        % Batch 32 Train
        \addplot[color=batch32Color, thick] coordinates {
            (1,0.8427) (2,0.5757) (3,0.4583) (4,0.3908) (5,0.3574)
            (6,0.3298) (7,0.3335) (8,0.3613) (9,0.2760) (10,0.2594)
        };

        % Batch 32 Validation
        \addplot[color=batch32Color, thick, dashed] coordinates {
            (1,0.6616) (2,0.5173) (3,0.4469) (4,0.4346) (5,0.4175)
            (6,0.5425) (7,0.4096) (8,0.4005) (9,0.4051) (10,0.3958)
        };
    \end{axis}

    % Легенда
    \node at ($(plot1.south)!0.5!(plot3.south)+(0,-1.8cm)$) {\pgfplotslegendfromname{commonlegend}};

\end{tikzpicture}
\end{document}