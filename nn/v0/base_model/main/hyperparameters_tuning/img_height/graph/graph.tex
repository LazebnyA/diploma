\documentclass[border=5pt]{standalone}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}
\usepackage{siunitx}
\usepackage{tikz}
\usetikzlibrary{calc}

\definecolor{height16Color}{RGB}{31,119,180}    % Blue for height 16
\definecolor{height32Color}{RGB}{255,127,14}    % Orange for height 32
\definecolor{height64Color}{RGB}{44,160,44}     % Green for height 64
\definecolor{height96Color}{RGB}{214,39,40}     % Red for height 96

\begin{document}
\begin{tikzpicture}[remember picture]

    % Графік 1: Loss
    \begin{axis}[
        name=plot1,
        width=8cm,
        height=6cm,
        xlabel={Епоха},
        ylabel={Loss},
        ylabel style={yshift=-0.15cm},
        xmin=0.5, xmax=10.5,
        ymin=0, ymax=4.5,
        xtick={1,2,3,4,5,6,7,8,9,10},
        grid=both,
        grid style={line width=.1pt, draw=gray!10},
        major grid style={line width=.2pt,draw=gray!30},
        title={Loss порівняння висоти зображення},
        axis background/.style={fill=gray!3},
        title style={yshift=3mm, font=\small\bfseries},
        label style={font=\small},
        tick label style={font=\footnotesize},
        line width=1pt,
        enlarge x limits=0.05,
        enlarge y limits=0.05,
        every axis plot/.append style={no markers},
        legend to name=commonlegend,
        legend columns=4,
        legend style={draw=none, fill=none, font=\footnotesize}
    ]
        % Height 16 Train
        \addplot[color=height16Color, thick] coordinates {
            (1,2.272989) (2,1.208110) (3,0.866425) (4,0.709719) (5,0.611561)
            (6,0.534603) (7,0.473755) (8,0.429628) (9,0.386966) (10,0.350085)
        };

        % Height 16 Validation
        \addplot[color=height16Color, thick, dashed] coordinates {
            (1,1.533109) (2,1.002675) (3,0.854912) (4,0.764588) (5,0.763336)
            (6,0.716637) (7,0.696956) (8,0.701978) (9,0.699349) (10,0.715225)
        };

        % Height 32 Train
        \addplot[color=height32Color, thick] coordinates {
            (1,2.478211) (2,1.041096) (3,0.744036) (4,0.609072) (5,0.523921)
            (6,0.496986) (7,0.456905) (8,0.402128) (9,0.368803) (10,0.333305)
        };

        % Height 32 Validation
        \addplot[color=height32Color, thick, dashed] coordinates {
            (1,1.411665) (2,0.873716) (3,0.725711) (4,0.690594) (5,0.672123)
            (6,0.723006) (7,0.694223) (8,0.665976) (9,0.694006) (10,0.711179)
        };

        % Height 64 Train
        \addplot[color=height64Color, thick] coordinates {
            (1,3.921773) (2,3.645684) (3,3.605429) (4,3.582100) (5,3.569861)
            (6,3.564463) (7,3.558226) (8,3.555341) (9,3.554580) (10,3.552881)
        };

        % Height 64 Validation
        \addplot[color=height64Color, thick, dashed] coordinates {
            (1,3.718762) (2,3.593117) (3,3.584903) (4,3.549103) (5,3.537279)
            (6,3.538852) (7,3.522992) (8,3.538727) (9,3.521213) (10,3.524757)
        };

        % Height 96 Train
        \addplot[color=height96Color, thick] coordinates {
            (1,3.967880) (2,3.182353) (3,1.551166) (4,0.974228) (5,0.776744)
            (6,0.656080) (7,0.575999) (8,0.489317) (9,0.426745) (10,0.363513)
        };

        % Height 96 Validation
        \addplot[color=height96Color, thick, dashed] coordinates {
            (1,3.791337) (2,2.220705) (3,1.156481) (4,0.929422) (5,0.845056)
            (6,0.806004) (7,0.767995) (8,0.765227) (9,0.783795) (10,0.780525)
        };

        \legend{16 Tr, 16 Val, 32 Tr, 32 Val, 64 Tr, 64 Val, 96 Tr, 96 Val}
    \end{axis}

    % Графік 2: CER
    \begin{axis}[
        name=plot2,
        at={($(plot1.east)+(1.5cm,0)$)},
        anchor=west,
        width=8cm,
        height=6cm,
        xlabel={Епоха},
        ylabel={CER},
        ylabel style={yshift=-0.15cm},
        xmin=0.5, xmax=10.5,
        ymin=0, ymax=1.1,
        xtick={1,2,3,4,5,6,7,8,9,10},
        grid=both,
        grid style={line width=.1pt, draw=gray!10},
        major grid style={line width=.2pt,draw=gray!30},
        title={CER порівняння висоти зображення},
        axis background/.style={fill=gray!3},
        title style={yshift=3mm, font=\small\bfseries},
        label style={font=\small},
        tick label style={font=\footnotesize},
        line width=1pt,
        enlarge x limits=0.05,
        enlarge y limits=0.05,
        every axis plot/.append style={no markers}
    ]
        % Height 16 Train
        \addplot[color=height16Color, thick] coordinates {
            (1,0.963097) (2,0.976481) (3,0.844295) (4,0.625210) (5,0.586519)
            (6,0.591545) (7,0.567216) (8,0.611257) (9,0.598023) (10,0.622579)
        };

        % Height 16 Validation
        \addplot[color=height16Color, thick, dashed] coordinates {
            (1,1.076569) (2,0.876195) (3,0.701763) (4,0.555068) (5,0.620852)
            (6,0.634905) (7,0.556433) (8,0.523388) (9,0.644478) (10,0.665726)
        };

        % Height 32 Train
        \addplot[color=height32Color, thick] coordinates {
            (1,0.759840) (2,0.325873) (3,0.293241) (4,0.267804) (5,0.581299)
            (6,0.352216) (7,0.142573) (8,0.129764) (9,0.122145) (10,0.110526)
        };

        % Height 32 Validation
        \addplot[color=height32Color, thick, dashed] coordinates {
            (1,0.463066) (2,0.265130) (3,0.522728) (4,0.388614) (5,0.200773)
            (6,0.203458) (7,0.191384) (8,0.183468) (9,0.183391) (10,0.187810)
        };

        % Height 64 Train
        \addplot[color=height64Color, thick] coordinates {
            (1,1.000144) (2,0.981678) (3,0.974023) (4,0.971477) (5,0.971729)
            (6,0.972386) (7,0.970764) (8,0.971095) (9,0.972069) (10,0.969575)
        };

        % Height 64 Validation
        \addplot[color=height64Color, thick, dashed] coordinates {
            (1,1.0) (2,0.989016) (3,0.926699) (4,0.926699) (5,0.988156)
            (6,0.988156) (7,0.988156) (8,0.988156) (9,0.987098) (10,0.987834)
        };

        % Height 96 Train
        \addplot[color=height96Color, thick] coordinates {
            (1,1.000157) (2,0.902831) (3,0.473273) (4,0.293232) (5,0.236332)
            (6,0.201456) (7,0.178767) (8,0.156365) (9,0.138919) (10,0.122851)
        };

        % Height 96 Validation
        \addplot[color=height96Color, thick, dashed] coordinates {
            (1,1.0) (2,0.721062) (3,0.352623) (4,0.279490) (5,0.252796)
            (6,0.235368) (7,0.222098) (8,0.216943) (9,0.220226) (10,0.214964)
        };
    \end{axis}

    % Графік 3: WER
    \begin{axis}[
        name=plot3,
        at={($(plot2.east)+(1.5cm,0)$)},
        anchor=west,
        width=8cm,
        height=6cm,
        xlabel={Епоха},
        ylabel={WER},
        ylabel style={yshift=-0.15cm},
        xmin=0.5, xmax=10.5,
        ymin=0, ymax=1.1,
        xtick={1,2,3,4,5,6,7,8,9,10},
        grid=both,
        grid style={line width=.1pt, draw=gray!10},
        major grid style={line width=.2pt,draw=gray!30},
        title={WER порівняння висоти зображення},
        axis background/.style={fill=gray!3},
        title style={yshift=3mm, font=\small\bfseries},
        label style={font=\small},
        tick label style={font=\footnotesize},
        line width=1pt,
        enlarge x limits=0.05,
        enlarge y limits=0.05,
        every axis plot/.append style={no markers}
    ]
        % Height 16 Train
        \addplot[color=height16Color, thick] coordinates {
            (1,0.966209) (2,0.989201) (3,0.991868) (4,0.988373) (5,0.985404)
            (6,0.981778) (7,0.977639) (8,0.969809) (9,0.964738) (10,0.959588)
        };

        % Height 16 Validation
        \addplot[color=height16Color, thick, dashed] coordinates {
            (1,0.994565) (2,0.995252) (3,0.991629) (4,0.988817) (5,0.985132)
            (6,0.981446) (7,0.984319) (8,0.983695) (9,0.979134) (10,0.975323)
        };

        % Height 32 Train
        \addplot[color=height32Color, thick] coordinates {
            (1,0.839574) (2,0.576462) (3,0.588523) (4,0.593068) (5,0.917770)
            (6,0.657720) (7,0.346300) (8,0.323638) (9,0.308792) (10,0.287850)
        };

        % Height 32 Validation
        \addplot[color=height32Color, thick, dashed] coordinates {
            (1,0.698132) (2,0.521897) (3,0.841257) (4,0.892859) (5,0.442869)
            (6,0.453801) (7,0.430562) (8,0.424564) (9,0.427251) (10,0.431561)
        };

        % Height 64 Train
        \addplot[color=height64Color, thick] coordinates {
            (1,1.0) (2,0.967484) (3,0.961506) (4,0.960718) (5,0.961690)
            (6,0.960718) (7,0.962097) (8,0.962544) (9,0.961191) (10,0.963569)
        };

        % Height 64 Validation
        \addplot[color=height64Color, thick, dashed] coordinates {
            (1,1.0) (2,0.955395) (3,0.975136) (4,0.975136) (5,0.951896)
            (6,0.951896) (7,0.951896) (8,0.951896) (9,0.953520) (10,0.950584)
        };

        % Height 96 Train
        \addplot[color=height96Color, thick] coordinates {
            (1,1.0) (2,0.936754) (3,0.720808) (4,0.561932) (5,0.492538)
            (6,0.447212) (7,0.411359) (8,0.374639) (9,0.346024) (10,0.317239)
        };

        % Height 96 Validation
        \addplot[color=height96Color, thick, dashed] coordinates {
            (1,1.0) (2,0.930218) (3,0.632098) (4,0.560442) (5,0.523521)
            (6,0.508965) (7,0.486287) (8,0.485912) (9,0.489723) (10,0.483663)
        };
    \end{axis}

    % Легенда
    \node at ($(plot1.south)!0.5!(plot3.south)+(0,-1.8cm)$) {\pgfplotslegendfromname{commonlegend}};

\end{tikzpicture}
\end{document}